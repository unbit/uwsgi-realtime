<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <style type="text/css">
div {
	border: solid 2px green;
	width: 200px;
	height: 768px;
	position: absolute;
	font-size: 11px;
	overflow: auto;
	padding: 2px;
    }
  </style>
</head>
<body>
  <script>
    function register_channel(num) {
	var source = new EventSource('/events/'+num);
	source.onmessage = function(e) {
                document.getElementById('channel_'+num).innerHTML += e.data.replace(/\n/g, '<br/>') + '<hr>';
        };
    }
    for(var i=1;i<=5;i++) {
	register_channel(i);
    }
  </script>
</body>
<h1>SSE multichannel test</h1>
<div id="channel_1"><h1>channel 1</h1></div>
<div id="channel_2" style="left: 220px"><h1>channel 2</h1></div>
<div id="channel_3" style="left: 440px"><h1>channel 3</h1></div>
<div id="channel_4" style="left: 660px"><h1>channel 4</h1></div>
<div id="channel_5" style="left: 880px"><h1>channel 5</h1></div>
</html>
